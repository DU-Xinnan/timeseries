<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Timeseries</title>
    <link rel="stylesheet" href="default.css" />
    <link rel="stylesheet" href="style.css" />
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/lodash.js/3.1.0/lodash.min.js"></script>
    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment.min.js"></script>
    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>

    <script src="timeseries.js"></script>
</head>

<body>
    <script>
    hljs.initHighlightingOnLoad();
    </script>
    <div class="container">
        <div class="header">
            <a href="http://mlvl.github.io" target="_blank"><img src="images/mlvl-logo-color-500.png" />
            </a>
            <div>D3 Timeseries with Brush</div>
        </div>
        <div class="text">
            <p>Have some temporal data to display in your project? Use this D3.js timeseries!</p>
        </div>
        <div class="timeseries one"></div>
        <div class="brush-control">
            <div class="brush-info"><i>Click and drag on the timeseries above to create a brush.</i>
            </div>
            <button class="clear-brush">Clear brush</button>
        </div>
        <div class="text">
            <p>Timeseries is offered in an easy to use format - just give it a class name, some data, and whether or not to use the brush. Each datapoint is an object so you can easily add your own fields and extend functionality.
                <pre><code class="javascript">var data = [{'value': 1380854103662},{'value': 1363641921283}];</code></pre>
                <pre><code class="javascript">timeseries('timeseries', data, true);</code></pre>
            </p>
            <p>Optional brush functionality allows for filtering. Want the range of your brush? Just call
                <pre><code class="javascript">timeseries.getBrushExtent();</code></pre>
            </p>
            <p>Timeseries determines the range of your dates and times and adjusts its layout accordingly. Does your data all fall within one day? Timeseries will adjust to show time on its x-axis.</p>
        </div>
        <div class="timeseries two"></div>
        <div class="text">
            <div class="contact">
                <a class="contact-icon" href="https://twitter.com/decisiveUI" target="_blank"><img src="images/Twitter_logo_blue.png">
                </a>
                <a class="contact-icon" href="https://github.com/mlvl" target="_blank"><img src="images/GitHub-Mark/GitHub-Mark-120px-plus.png">
                </a>
                <a class="contact-icon" href="http://www.visualizing.org/users/mlvl" target="_blank"><img src="images/visualizing.png">
                </a>
            </div>
        </div>
    </div>

    <script>
    window.onload = function() {
        /* Generate random times between two dates */
        function getData(start, end) {
            var data = [];
            for (i = 0; i < 100; i++) {
                data.push({
                    'value': (randomDate(start, end))
                })
            }
            console.log(data)
            return data;
        }

        function randomDate(start, end) {
            return new Date(start.getTime() + Math.random() * (end.getTime() - start.getTime())).valueOf();
        }

        timeseries('timeseries one', getData(new Date(2012, 1, 1), new Date(2015, 1, 2)), true);
        timeseries('timeseries two', getData(new Date(2015, 1, 1), new Date(2015, 1, 2)), false);
        console.log(timeseries.getBrushExtent());
    }
    </script>

</body>

</html>
